trigger:
  - main

variables:
  - group: Agents
  - group: Credentials

  - name: repositoryName
    value: 'vlmcsd'

pool:
  name: $(agent_pool)
  demands:
    - Agent.OS -equals Linux

workspace:
  clean: all

steps:
  - task: Docker@2
    displayName: Docker Build And Push
    inputs:
      containerRegistry: '$(docker_hub_sc)'
      repository: $(repositoryName)
      command: 'buildAndPush'
      Dockerfile: '**/Dockerfile'
